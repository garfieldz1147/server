,-.----.                                                              ,--.                                                                
\    /  \                         ___                 ,--,        ,--/  /|                                 ,---,       ___                
|   :    \                      ,--.'|_             ,--.'|     ,---,': / '              ,--,             ,--.' |     ,--.'|_              
|   |  .\ :   ,---.    __  ,-.  |  | :,'            |  | :     :   : '/ /       ,---, ,--.'|             |  |  :     |  | :,'             
.   :  |: |  '   ,'\ ,' ,'/ /|  :  : ' :            :  : '     |   '   ,    ,-+-. /  ||  |,     ,----._,.:  :  :     :  : ' :  .--.--.    
|   |   \ : /   /   |'  | |' |.;__,'  /    ,--.--.  |  ' |     '   |  /    ,--.'|'   |`--'_    /   /  ' /:  |  |,--.;__,'  /  /  /    '   
|   : .   /.   ; ,. :|  |   ,'|  |   |    /       \ '  | |     |   ;  ;   |   |  ,"' |,' ,'|  |   :     ||  :  '   |  |   |  |  :  /`./   
;   | |`-' '   | |: :'  :  /  :__,'| :   .--.  .-. ||  | :     :   '   \  |   | /  | |'  | |  |   | .\  .|  |   /' :__,'| :  |  :  ;_     
|   | ;    '   | .; :|  | '     '  : |__  \__\/: . .'  : |__   |   |    ' |   | |  | ||  | :  .   ; ';  |'  :  | | | '  : |__ \  \    `.  
:   ' |    |   :    |;  : |     |  | '.'| ," .--.; ||  | '.'|  '   : |.  \|   | |  |/ '  : |__'   .   . ||  |  ' | : |  | '.'| `----.   \ 
:   : :     \   \  / |  , ;     ;  :    ;/  /  ,.  |;  :    ;  |   | '_\.'|   | |--'  |  | '.'|`---`-'| ||  :  :_:,' ;  :    ;/  /`--'  / 
|   | :      `----'   ---'      |  ,   /;  :   .'   \  ,   /   '   : |    |   |/      ;  :    ;.'__/\_: ||  | ,'     |  ,   /'--'.     /  
`---'.|                          ---`-' |  ,     .-./---`-'    ;   |,'    '---'       |  ,   / |   :    :`--''        ---`-'   `--'---'   
  `---`                                  `--`---'              '---'                   ---`-'   \   \  /                                  
                                                                                                 `--`-'                                   
----------------------------------------------------------------------------------------------------------------------------------------


pk_dedicated_server
-----------------------

คำแนะนำ:    

    1. เริ่มต้น "pk_dedicated_server.exe" ระบบจะสร้างไฟล์บันทึก ไฟล์การกำหนดค่า และโฟลเดอร์ข้อมูลเซฟขึ้นมา
    2. ปิด "pk_dedicated_server.exe" เพื่อตั้งค่าไฟล์การกำหนดค่า
    3. เปิดไฟล์ "server_config.json" ด้วยตัวแก้ไขข้อความเพื่อตั้งค่าเซิร์ฟเวอร์
       รายการทั้งหมดจะต้องอยู่ในรูปแบบ ASCII หรือ UTF-8
    4. ดูหรือเปลี่ยนแปลงการตั้งค่าต่อไปนี้ได้
        a. basicServerData
            i. name: ชื่อที่เซิร์ฟเวอร์เช่าส่วนตัว (Dedicated Server) ของคุณจะแสดง
            ii. ipv4: ที่อยู่ IP เครือข่ายเฉพาะที่ของเซิร์ฟเวอร์เช่าส่วนตัว ที่อยู่ 0.0.0.0 จะช่วยให้คอมพิวเตอร์โฮสต์สามารถตรวจสอบทราฟฟิกข้อมูลในเครือข่ายทั้งหมด ซึ่งโดยปกติแล้ว คุณไม่จำเป็นต้องเปลี่ยนที่อยู่นี้ ยกเว้นในกรณีที่ตั้งค่าเซิร์ฟเวอร์ให้ทำงานในการ์ดเครือข่ายหรืออินเตอร์เฟสบางอย่าง
            iii. port: พอร์ตของเซิร์ฟเวอร์เช่าส่วนตัว เราไม่แนะนำให้เปลี่ยนพอร์ต ยกเว้นในกรณีที่มีข้อกำหนดในการตั้งค่าไฟร์วอลล์/เราเตอร์ หรือคุณต้องการใช้งานเซิร์ฟเวอร์หลายๆ ตัวบนคอมพิวเตอร์เครื่องเดียวกัน (ซึ่งจะต้องใช้พอร์ตแยกสำหรับแต่ละเซิร์ฟเวอร์)
            iv. saveFolderPath: ระบบจะเขียนข้อมูลเซฟไว้ที่นี่ ซึ่งจำเป็นต้องเปลี่ยน หากต้องการเรียกใช้เซิร์ฟเวอร์หลายๆ ตัวบนคอมพิวเตอร์เครื่องเดียวกัน
        b. universeSize: (Small/Normal/Large) ขนาดยูนิเวิร์สของเซิร์ฟเวอร์เช่าส่วนตัว
        c. hideConsoleWindow: (true/false) มีหน้าที่ซ่อนหน้าต่างคอนโซล หากเปิดใช้งานตัวเลือกนี้ เซิร์ฟเวอร์จะปิดได้ก็ต่อเมื่อปิดในตัวจัดการงาน
        d. admins/users/guests
            i. Credentials
                • password: เลือกรหัสผ่านที่จะใช้เข้าถึงเซิร์ฟเวอร์เช่าส่วนตัวตามกลุ่มผู้ใช้งาน ซึ่งแบ่งออกเป็น 3 กลุ่ม (ผู้ดูแลระบบ ผู้ใช้งาน และเกสต์) แต่ละกลุ่มจะมีสิทธิ์การใช้งานและรหัสผ่านต่างกัน โปรดให้รหัสผ่านแก่ผู้เล่นตามสิทธิ์การใช้งานที่ต้องการให้แก่ผู้เล่นคนนั้น และเก็บรหัสผ่านผู้ดูแลระบบไว้เป็นความลับ!
            ii. canLogin: (true/false) กำหนดว่ากลุ่มผู้เล่นมีสิทธิ์เข้าสู่ระบบหรือไม่
            iii. canKickPlayers: (true/false) กำหนดว่ากลุ่มผู้เล่นมีสิทธิ์ไล่ผู้เล่นคนอื่นออกจากเซิร์ฟเวอร์หรือไม่
            iv. canModifyWorld: (true/false) กำหนดว่ากลุ่มผู้เล่นมีสิทธิ์ขุดหรือสร้างบล็อก/พร็อพหรือไม่
            v. canInteractWithLockables: (true/false) กำหนดว่ากลุ่มผู้ใช้หนึ่งสามารถโต้ตอบกับหีบได้หรือไม่ ควรใช้ร่วมกับ canModifyWorld เพื่อป้องกันการขุดหีบ
        
    5. เริ่มต้น "pk_dedicated_server.exe" อีกครั้งเพื่อใช้การตั้งค่าใหม่กับเซิร์ฟเวอร์เช่าส่วนตัว
    6. หากเซิร์ฟเวอร์เช่าส่วนตัวอยู่หลังเราเตอร์ (ซึ่งโดยปกติจะเป็นเช่นนี้) คุณจะต้องแก้ไขการตั้งค่าการส่งต่อพอร์ตของเราเตอร์เพื่อให้ระบบส่งข้อมูลเกมไปที่คอมพิวเตอร์โฮสต์ ซึ่งทำได้โดยไปที่หน้าผู้ดูแลระบบของเราเตอร์ แล้วหาการตั้งค่าการส่งต่อพอร์ตที่อยู่ในนั้น และจะเพิ่มบริการใหม่ (หรือบริการลูกค้า) ในหน้านี้ก็ได้ หากมีบริการให้เลือก โดยปกติแล้วเมื่อระบบขอให้ตั้งค่ากฎใหม่ ก็จะให้คุณตั้งชื่อด้วย คุณสามารถเลือกชื่ออะไรก็ได้ แต่เราขอแนะนำให้ให้ชื่อ "portalknights" เพื่อความสะดวก และเลือกประเภท "UDP" เท่านั้น ให้ใช้ "16365" สำหรับทุกพอร์ต (ภายในและภายนอก) ยกเว้นในกรณีที่คุณเปลี่ยนพอร์ตในไฟล์การกำหนดค่า (หากเป็นเช่นนี้ โปรดตรวจสอบว่าพอร์ตนั้นตรงกับค่าที่คุณกำหนดไว้) สำหรับ "output IP" หรือ "server IP" ให้ระบุที่อยู่เครือข่ายเฉพาะที่ ซึ่งหาได้โดยเรียกใช้ ipconfig ผ่านพร้อมท์คำสั่ง หากระบบขอให้ระบุข้อมูลอื่นๆ ให้เว้นไว้แล้วดำเนินการต่อ หากมีปัญหากับขั้นตอนนี้ โปรดติดต่อขอความช่วยเหลือที่ https://portforward.com/  โปรดทราบว่าคุณไม่ได้ตั้งค่า IP ของคอมพิวเตอร์ที่ใช้โฮสต์เกมเป็นแบบคงที่ ที่อยู่ IP เครือข่ายเฉพาะที่อาจเปลี่ยนแปลงได้ (ซึ่งทำให้กฎการส่งต่อพอร์ตไม่ถูกต้องได้) อ่านคู่มือการใช้เราเตอร์เพื่อดูวิธีตั้งค่าที่อยู่ IP แบบคงที่ในคอมพิวเตอร์คุณ

    7. ส่งที่อยู่ IP ภายนอกและรหัสผ่านของกลุ่มผู้ใช้ให้กับคนที่คุณต้องการให้สิทธิ์เข้าถึงเซิร์ฟเวอร์ โปรดทราบว่าที่อยู่ IP ที่ระบุสำหรับการส่งต่อพอร์ตนั้น "ไม่ใช่" ที่อยู่ภายนอก ที่อยู่ภายนอกจะต้องเป็นที่อยู่ IP เครือข่ายเฉพาะที่ คุณจะต้องไปที่เว็บไซต์อย่างเช่น http://whatismyip.host/ เพื่อหาที่อยู่ IP ภายนอกสำหรับให้ผู้ใช้เข้าร่วม อย่าลืมว่าที่อยู่ที่ส่งให้ผู้ใช้จะต้องเป็น IP v4  ไม่ใช่ IP v6 (ที่อยู่ IP ควรมีหน้าตาเป็น xxx.xxx.xxx.xxx ไม่ใช่ xxxx:xxxx:xxxx:xxxx:xxxx:xxxx:xxxx:xxxx)

    วิธีตั้งค่าเซิร์ฟเวอร์หลายตัวในคอมพิวเตอร์เครื่องเดียวกัน จะต้องใช้อาร์กิวเมนต์พร้อมท์คำสั่งตามที่แสดงไว้ด้านล่าง เพื่อเตรียมการกำหนดค่าสำหรับเซิร์ฟเวอร์แต่ละตัว แล้วปรับเปลี่ยนไฟล์การกำหนดค่าตามนั้น
        
    อาร์กิวเมนต์:
        a. -config myConfig.json: ไฟล์การกำหนดค่า myConfig.json จะใช้สำหรับตั้งค่าเซิร์ฟเวอร์
                      
                      i. ถ้าไม่พบไฟล์ที่ใช้ชื่อนี้ ระบบจะใช้ชื่อนี้สร้างไฟล์การกำหนดค่าเริ่มต้น หมายเหตุ: คุณสามารถตั้งชื่อไฟล์การกำหนดค่าได้เอง เช่น "myConfig.json"

        b. -log mylogfile.log: ระบบจะเขียนไฟล์บันทึกไปยังไฟล์ที่ระบุ
    
            เช่น
        pk_dedicated_server -config myOwnConfig.json -log testServer.log
        จะเริ่มการทำงานของเซิร์ฟเวอร์เช่าส่วนตัวที่อ่านการกำหนดค่าจาก myOwnConfig.json และจะเขียนเอาท์พุทบันทึกไปที่ testServer.log


Config File Format:

    {
        "basicServerData": {
            "name": "Servername",
            "ipv4": "0.0.0.0",
            "port": 16365,
            "saveFolderPath": "./savedata"
        },
        "universeSize": "Normal",
        "hideConsoleWindow": false,
        "admins": {
            "credentials": {
                "password": "admin_password_please_change"
            },
            "canLogin": true,
            "canKickPlayers": true,
            "canModifyWorld": true,
            "canInteractWithLockables": true
        },
        "users": {
            "credentials": {
                "password": ""
            },
            "canLogin": true,
            "canKickPlayers": false,
            "canModifyWorld": true,
            "canInteractWithLockables": true
        },
        "guests": {
            "credentials": {
                "password": ""
            },
            "canLogin": false,
            "canKickPlayers": false,
            "canModifyWorld": false,
            "canInteractWithLockables": false
        }
    }
    
    
การอนุญาต:
    การใช้งานเซิร์ฟเวอร์ส่วนตัวหรืออิสระ
    
    การซื้อและใช้งานผลิตภัณฑ์ซอฟต์แวร์นี้ทำให้คุณได้รับสิทธิ์การใช้ผลิตภัณฑ์ซอฟต์แวร์ตามเงื่อนไขของสัญญาอนุญาตให้ใช้สิทธิเท่านั้น ซึ่งรวมถึงการอนุญาตให้เผยแพร่ไฟล์ปฏิบัติการของผลิตภัณฑ์ลงในเซิร์ฟเวอร์ส่วนตัวหรืออิสระ (ต่อไปนี้จะเรียกว่า "เซิร์ฟเวอร์ส่วนตัว") ภายใต้เงื่อนไขที่ว่าบุคคลที่สามที่ต้องการเข้าถึงผลิตภัณฑ์ซอฟต์แวร์ในเซิร์ฟเวอร์ส่วนตัวจะต้องซื้อผลิตภัณฑ์ซอฟต์แวร์เวอร์ชันเต็ม อันรวมถึงไฟล์ปฏิบัติการของซอฟต์แวร์เวอร์ชันเต็ม ซึ่งจะให้สิทธิ์การใช้งานแก่บุคคลที่สามรายนั้น

    คุณยอมรับว่าผู้อนุญาตจะไม่รับผิดแต่อย่างใดต่อสิ่งที่ผู้ใช้ที่เป็นบุคคลที่สามกระทำกับเนื้อหาที่พบในเซิร์ฟเวอร์ส่วนตัวที่คุณให้สิทธิ์การเข้าถึง
    
    การใช้เซิร์ฟเวอร์ส่วนตัวหรือเนื้อหาใดๆ ที่สร้างขึ้นหรือเผยแพร่จากการใช้เซิร์ฟเวอร์ส่วนตัวดังกล่าวจะต้องเป็นไปตามข้อกำหนดที่มีผลบังคับใช้กับทุกคนดังต่อไปนี้

      • ต้องเป็นเนื้อหาต้นฉบับและไม่ละเมิดสิทธิด้านทรัพย์สินทางปัญญาของบุคคลอื่น
      • ไม่ฝ่าฝืนกฎหมายของเขตอำนาจศาลใดๆ ที่มีการเข้าถึงเซิร์ฟเวอร์ส่วนตัว
      • ไม่ใช้สื่อวัสดุใดๆ ที่ไม่เหมาะสม ลามกอนาจาร สร้างความเสื่อมเสีย และแสดงถึงการเลือกปฏิบัติ
      • ไม่ใช้สื่อวัสดุใดๆ ที่สร้างความเข้าใจผิดหรือหลอกลวง
      • ไม่ใช้สื่อวัสดุใดๆ ที่แสดงถึงการกลั่นแกล้งหรือล่วงละเมิด หรือทำให้บุคคลที่สามหรือผู้อนุญาตเสื่อมเสียชื่อเสียง
      • ห้ามแสดงโฆษณาหรือเรียกเก็บเงินจริงจากสกุลเงินในเกม
      • ห้ามอ้างตนว่าเป็นเซิร์ฟเวอร์หรือมีสื่อวัสดุที่ผู้อนุญาตให้หรือรับรอง

    กล่าวคือ คุณจะต้องรับผิดต่อเนื้อหาทั้งหมดที่มีในเซิร์ฟเวอร์ส่วนตัว ไม่ว่าคุณจะเป็นผู้สร้างเนื้อหานั้นขึ้นมา และ/หรืออนุญาตให้บุคคลที่สามเผยแพร่โดยใช้เซิร์ฟเวอร์ส่วนตัวนั้นหรือไม่ก็ตาม  คุณเป็นตัวแทนและรับประกันต่อผู้อนุญาตว่าคุณมีสิทธิ์อย่างเต็มที่ที่จะโฮสต์ผลิตภัณฑ์ซอฟต์แวร์ไว้ในเซิร์ฟเวอร์ส่วนตัว โดยจะต้องปฏิบัติตามเงื่อนไขของข้อตกลงฉบับนี้ และมีสิทธิ์ที่จะให้การยินยอมในการใช้เซิร์ฟเวอร์ส่วนตัวตามที่ได้ตกลงไว้แก่ผู้อนุญาตและบุคคลที่สามดังที่ระบุไว้ข้างต้น