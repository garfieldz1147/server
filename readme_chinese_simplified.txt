,-.----.                                                              ,--.                                                                
\    /  \                         ___                 ,--,        ,--/  /|                                 ,---,       ___                
|   :    \                      ,--.'|_             ,--.'|     ,---,': / '              ,--,             ,--.' |     ,--.'|_              
|   |  .\ :   ,---.    __  ,-.  |  | :,'            |  | :     :   : '/ /       ,---, ,--.'|             |  |  :     |  | :,'             
.   :  |: |  '   ,'\ ,' ,'/ /|  :  : ' :            :  : '     |   '   ,    ,-+-. /  ||  |,     ,----._,.:  :  :     :  : ' :  .--.--.    
|   |   \ : /   /   |'  | |' |.;__,'  /    ,--.--.  |  ' |     '   |  /    ,--.'|'   |`--'_    /   /  ' /:  |  |,--.;__,'  /  /  /    '   
|   : .   /.   ; ,. :|  |   ,'|  |   |    /       \ '  | |     |   ;  ;   |   |  ,"' |,' ,'|  |   :     ||  :  '   |  |   |  |  :  /`./   
;   | |`-' '   | |: :'  :  /  :__,'| :   .--.  .-. ||  | :     :   '   \  |   | /  | |'  | |  |   | .\  .|  |   /' :__,'| :  |  :  ;_     
|   | ;    '   | .; :|  | '     '  : |__  \__\/: . .'  : |__   |   |    ' |   | |  | ||  | :  .   ; ';  |'  :  | | | '  : |__ \  \    `.  
:   ' |    |   :    |;  : |     |  | '.'| ," .--.; ||  | '.'|  '   : |.  \|   | |  |/ '  : |__'   .   . ||  |  ' | : |  | '.'| `----.   \ 
:   : :     \   \  / |  , ;     ;  :    ;/  /  ,.  |;  :    ;  |   | '_\.'|   | |--'  |  | '.'|`---`-'| ||  :  :_:,' ;  :    ;/  /`--'  / 
|   | :      `----'   ---'      |  ,   /;  :   .'   \  ,   /   '   : |    |   |/      ;  :    ;.'__/\_: ||  | ,'     |  ,   /'--'.     /  
`---'.|                          ---`-' |  ,     .-./---`-'    ;   |,'    '---'       |  ,   / |   :    :`--''        ---`-'   `--'---'   
  `---`                                  `--`---'              '---'                   ---`-'   \   \  /                                  
                                                                                                 `--`-'                                   
----------------------------------------------------------------------------------------------------------------------------------------


pk_dedicated_server
-----------------------

使用指南：

    1. 启动“pk_dedicated_server.exe”-一个日志文件、一个配置文件和一个保存数据文件夹将被创建。
    2. 关闭 “pk_dedicated_server.exe”以设置配置文件。
    3. 用文本编辑器打开“server_config.json”文件以设置服务器。
       比如使用美国信息交换标准代码或万国码输入！
    4. 以下设置可以查看或更改： 
        a. basicServerData
            i. name：你的专用服务器将显示的名称。
            ii. ipv4：你的专用服务器的本地网络IP地址。 0.0.0.0地址可以允许主机监控所有本地网络流量。你通常不需要更改此设置，除非你要将你的服务器设置于一个特定网卡或界面上工作。
            iii. port：专用服务器的端口。我们不建议更改此设置，除非你的防火墙/路由器设置需要，或者如果你想要在同一个电脑上运行多个服务器（此情况下，每个都需要一个不同的端口）。
            iv. saveFolderPath：保存数据将被写于此位置。如果你需要在同一个电脑上运行多个服务器实例，将需要更改此设置。
        b. universeSize: (Small/Normal/Large) 专用服务器上的世界大小。
        c. hideConsoleWindow: (true/false)此设置将隐藏控制窗口。如果启用此设置，只能从任务管理器中关闭服务器。
        d. admins/users/guests
            i. Credentials
                • password：选择密码，不同用户组使用此密码访问你的专用服务器。有三种用户组（管理员，用户，和访客）可以设置不同的密码和权限。只给玩家你想要他们有的用户组权限的密码，妥善保管好你的管理员密码！
            ii. canLogin: (true/false)定义一个特定用户组是否可以登录。
            iii. canKickPlayers: (true/false)定义一个特定用户组是否可以将其他玩家从服务器踢出。
            iv. canModifyWorld: (true/false)定义一个特定用户组是否可以采矿/建造方块/道具。
            v. canInteractWithLockables： (true/false) 定义一个特定用户组是否能和宝箱互动。应当和canModifyWorld一起使用，以防止开采宝箱。

    5. 再次启动“pk_dedicated_server.exe”，以使用新的设置启动服务器。
    6. 如果你的服务器是在一个路由器后面（通常情况如此），你需要编辑路由器端口转发设置以确保游戏数据被发送至你的主机。如需编辑，你需要找到路由器管理员页面，然后找到页面上的端口转发设置。可能的话，你可以尝试添加一个新服务（或客户服务）。当被问及设置新规则时，你会被提醒需要命名。你可以选择任意名称，但我们建议使用“portalknights”，简单明了。类型需是“UDP”。所有端口（内部和外部）使用“16365”，除非你在配置文件中更改了端口（如已更改，请确保端口和配置文件匹配）。对于“输出IP”或者“服务器IP”，输入本地网络地址，你可以通过命令提示窗口运行ipconfig来找到地址。如果还被问及其他信息，无需修改然后继续。如此过程有疑问，请访问https://portforward.com/。注意，除非你给运行游戏的主机设置了一个静态IP，本地网络IP地址可以更改（这可使端口转发规则无效）。请查阅你的路由器文件以确定如何给你的电脑设置一个静态IP地址。

    7. 将外部IP地址和一个用户组密码发送至你想要让他们访问你服务器的人。注意，为端口转发输入的IP地址不是你的外部IP地址，是本地网络IP地址。如需找到用户加入需要的外部IP地址，你需要访问例如http://whatismyip.host/的网址。请确保给用户发送你的IP v4地址，不是IP v6（IP地址看上去应该是xxx.xxx.xxx.xxx--而不是xxxx:xxxx:xxxx:xxxx:xxxx:xxxx:xxxx:xxxx）

    如需在同一个电脑上设置多个服务器，使用下方提供的命令提示语句以给每个服务器准备不同配置并相应地调整配置文件。
        
    语句：
        a. -config myConfig.json：myConfig.json配置文件将被使用于设置服务器。

                      i. 如果不存在该名称的文件，将新建一个该名称的默认配置文件。注意：你可以任意给配置文件命名，“myConfig.json”只是一个例子。

        b. -log mylogfile.log：将写入日志文件的特定文件。

            例如：
        pk_dedicated_server -config myOwnConfig.json -log testServer.log
        将启动一个专用服务器，从myOwnConfig.json读取其配置，并写日志输出至testServer.log


Config File Format:

    {
        "basicServerData": {
            "name": "Servername",
            "ipv4": "0.0.0.0",
            "port": 16365,
            "saveFolderPath": "./savedata"
        },
        "universeSize": "Normal",
        "hideConsoleWindow": false,
        "admins": {
            "credentials": {
                "password": "admin_password_please_change"
            },
            "canLogin": true,
            "canKickPlayers": true,
            "canModifyWorld": true,
            "canInteractWithLockables": true
        },
        "users": {
            "credentials": {
                "password": ""
            },
            "canLogin": true,
            "canKickPlayers": false,
            "canModifyWorld": true,
            "canInteractWithLockables": true
        },
        "guests": {
            "credentials": {
                "password": ""
            },
            "canLogin": false,
            "canKickPlayers": false,
            "canModifyWorld": false,
            "canInteractWithLockables": false
        }
    }
    
    
许可：
    私人或独立服务器使用

    购买和使用本软件产品，您仅获得符合此许可协议的软件产品使用许可，包括将产品的可执行文件在私人或独立服务器（以下简称“私人服务器”）上传播的许可；但是，想要在私人服务器上获取此软件产品的任何第三方仍应需要购买此软件产品的完整版本，包括此软件产品的完整版本的可执行文件，此软件产品将给任何上述第三方提供他们自己的许可。

    您同意许可方对第三方用户如何使用在您允许获取的私人服务器上找到的内容不承担任何责任。

    私人服务器的任何使用或使用该私人服务器创建或传播的任何内容必须符合以下非专有要求：

      • 必须是原创的，且不应侵犯任何第三方的知识产权
      • 不得侵犯当地任何法律法规
      • 不得使用有侵犯性的、色情的、诋毁的、歧视性的材料
      • 不得使用任何误导性的或欺骗性的材料
      • 不得使用侮辱性的或恐吓性的材料，或其他损害第三方或许可方名誉的材料
      • 不得包括广告或为游戏内货币收取真实现金
      • 不得成为一个服务器或任何许可方提供的或同意的材料

    为求清晰起见，您应当对您让人在此私人服务器上可获取的所有内容负责，无论是否由您创建和/或您允许获取的任何第三方使用您私人服务器创建的。为此，你代表并保证许可方您完全有资格在您的私人服务器上运行此软件产品，且符合此协议条款，以及拥有权力给予您同意提供的许可至许可方和任何上文所述的第三方来使用私人服务器。